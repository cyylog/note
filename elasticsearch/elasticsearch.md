#### elasticsearch基础概念：



[TOC]

### 1.实时 (NRT NearRealtime)

### 2.集群(Cluster)

### 3.节点(Node)

### 4.索引(Index)

### 5.文档(Document)

### 6.分片和副本(Shards & Replicas)

### 7.缓存数据(fielddata)

### 8.文档值(doc values)

### 9.行为模式(norms)

### 10.召回率(Recall Rate)

###11.准确率(Precision)



## 正文

###### 1.近实时

es是一个近实时的搜索平台，就是说从开始创建索引到能被搜索到只有很少的延时（通常是1s）

###### 2.集群

集群是一个或者多个节点（Node）协同工作来承载所有的数据，并提供所有节点的索引和搜索能力。一个集群有一个唯一名称作为标识，默认叫做[elasticsearch]。因为在有多个节点的情况下，节点都是通过集群名来确定被安装到哪个集群，所以集群名很重要。

###### 3.节点

节点是集群的一部分，就是集群里的一个服务器。它存储着数据，给提供集群的索引和搜索能力。像集群一样，一个节点也是用名称来做标识。它默认是一个在节点启动时被指定的随机uuid。如果不想用默认值，也可以自定义节点名。因为它是作为网络中的服务器和节点关系的纽带，所以这个名字对集群的管理来说很重要。

###### 4.索引

索引是有相同特性的文档集合。举个栗子🌰：可以定义一个存储客户端数据的索引，建一个产品目录索引，再来一个顺序数据的索引。它也是靠名称来作为唯一标识的。通过索引名对索引内的文档进行索引添加、更新、搜索、删除等操作。

###### 5.文档

文档是可以被索引的最小单元。举个栗子：可以定义一个存储客户端数据的文档，建一个产品目录文档，再来一个顺序数据的文档。文档是用json来表示的。

###### 6.分片和副本

为了解决让索引可以存储超过一个节点机器硬件限制的数据问题。es提供了将索引分割成多块的能力。这个数据小块叫做分片。创建 索引是可以指定分片数量（副本数）。每个分片内部都是独立的，功能完整的。可以随便移植到集群的任何一个节点上。

###### 7.缓存数据

缓存数据是文本字段使用的一个用于内存查询的数据结构。这个数据结构是第一次使用的时候被按需加载来用于聚合、排序或者脚本运算的。是通过读取所有段内的整个倒排索引，反转词条和文档关系，把结果存储到jvm堆中实现的。

###### 8.文档值

通过数据结构来进行聚合工作被叫做文档值。文档值是让聚合快速、高效、内存友好的手段。

###### 9.行为模式

它存储了很多用于查询时计算评分的标准引子。

###### 10.召回率

召回率也叫查全率是检索出的相关文档数和文档库中所有的相关文档数的比率。衡量的是检索结果是查全率

###### 11.准确率

准确率也叫精度是检索出的相关文档数与检索出的文档总数的比率。衡量的是检索结果的查准率。



### 创建索引

要索引第一个JSON对象，我们对**REST API**创建一个**PUT**请求到一个由索引名称，类型名称和ID组成的URL。 也就是：`http://localhost:9200/<index>/<type>/[<id>]`。

索引和类型是必需的，而id部分是可选的。如果不指定id，elasticsearch会为我们生成一个id。

但是如果不指定id，应该使用http的post而不是put请求。



######